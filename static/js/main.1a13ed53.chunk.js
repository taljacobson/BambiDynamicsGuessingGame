(this.webpackJsonpbambi_dynamic_guessing_game=this.webpackJsonpbambi_dynamic_guessing_game||[]).push([[0],{19:function(e,t,n){},20:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(7),s=n.n(a),i=(n(19),n(20),n(6)),o=function(){return Object(i.b)()},u=i.c,l=n(3),d=n.n(l),j=n(4),b=n(2),m="scores";var f={page:"intro",words:[],lives:3,points:0,scores:[]},h=Object(b.b)("page/fetchWords",Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout((function(){return e({data:["hello","react","redux","supercalifragilisticexpialidocious"]})}),500)}));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),p=Object(b.b)("page/scores",Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout((function(){var t,n;return e({data:null!==(t=JSON.parse(null!==(n=localStorage.getItem(m))&&void 0!==n?n:"[]"))&&void 0!==t?t:[]})}),0)}));case 2:return t=e.sent,console.log(t),e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})))),g=Object(b.c)({name:"page",initialState:f,reducers:{changePage:function(e,t){e.page=t.payload},startGame:function(e){e.page="game",e.lives=f.lives},wordMiss:function(e){var t=e.lives-1;t<=0?e.page="form":e.lives=t},wordHit:function(e){var t=e.points+1;e.points=t},submitForm:function(e,t){e.scores.push(t.payload),e.page="intro",localStorage.setItem(m,JSON.stringify(e.scores))}},extraReducers:function(e){e.addCase(h.fulfilled,(function(e,t){var n=t.payload.map((function(e){var t=e.length,n=e.split("").map((function(t,n){return 0===n||n===e.length-1?t:Math.random()>.5&&n%3?"_":t})).join("");return{originalValue:e,difficulty:t,value:n}})).sort((function(e,t){return e.difficulty>t.difficulty?1:-1}));e.words=n})),e.addCase(p.fulfilled,(function(e,t){var n;e.scores=null!==(n=t.payload)&&void 0!==n?n:[]}))}}),O=g.actions,v=O.changePage,x=O.startGame,y=O.wordHit,w=O.wordMiss,N=O.submitForm,k=function(e){return e.page.page},S=function(e){return e.page.words},C=function(e){return e.page.scores},_=function(e){return e.page.lives},F=function(e){return e.page.points},P=g.reducer,M=n(1);var A=function(){var e=u(F),t=o();return Object(M.jsxs)("div",{children:[Object(M.jsx)("h4",{children:"game over... better luck next time"}),Object(M.jsxs)("h3",{className:"gameForm-score",children:[Object(M.jsx)("span",{children:"your score"})," ",Object(M.jsx)("strong",{children:e})," "]}),Object(M.jsxs)("form",{className:"gameFormForm",onSubmit:function(n){n.preventDefault();var r=n.target.name.value,c=n.target.phone.value;console.log(r,c),t(N({score:e,name:r,phone:c}))},children:[Object(M.jsxs)("label",{children:[Object(M.jsx)("span",{children:"name: "}),Object(M.jsx)("input",{required:!0,name:"name",type:"text",minLength:2})]}),Object(M.jsx)("br",{}),Object(M.jsxs)("label",{children:[Object(M.jsx)("span",{children:"phone: "}),Object(M.jsx)("input",{name:"phone",type:"phone"})]}),Object(M.jsx)("br",{}),Object(M.jsx)("button",{className:"checkbtn playbtn",children:"sumbit"})]})]})},B=n(12);var E=function(){var e=u(S),t=u(_),n=o(),c=Object(r.useState)(""),a=Object(B.a)(c,2),s=a[0],i=a[1],l=Object(r.useState)(0),d=Object(B.a)(l,2),j=d[0],b=d[1],m=e[j];return Object(r.useEffect)((function(){j===e.length&&n(v("form"))}),[n,j,e.length]),m?Object(M.jsxs)("div",{className:"game-page",children:[Object(M.jsx)("h6",{children:"game Page"}),Object(M.jsxs)("h5",{className:"lives-left",children:["lives left",Object(M.jsx)("span",{style:{color:t<=1?"red":"inherit"},children:t})," "]}),Object(M.jsx)("h1",{className:"game-value",children:m.value}),Object(M.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s===m.originalValue?(b((function(e){return e+1})),i(""),n(y())):(i(""),n(w()))},children:[Object(M.jsx)("input",{autoFocus:!0,className:"game-input",type:"text",onChange:function(e){return i(e.target.value)},maxLength:m.originalValue.length,value:s}),Object(M.jsx)("br",{}),Object(M.jsx)("button",{className:"checkbtn playbtn",children:"check Guess"})]})]}):Object(M.jsx)("div",{})},J=n(13),G=n(14),I=function(e){var t=e.name,n=e.score,r=e.phone;return Object(M.jsxs)("div",{className:"score-item",children:[Object(M.jsxs)("div",{className:"score-item-inner",children:[Object(M.jsx)("span",{className:"score-item-title",children:t}),r&&Object(M.jsx)("caption",{className:"score-item-subtitle",children:r})]}),Object(M.jsx)("div",{className:"score-item-score",children:n})]})};var L=function(){var e=o(),t=u(S),n=u(C),c=Object(r.useMemo)((function(){return Object(G.a)(n).sort((function(e,t){return t.score-e.score}))}),[n]);return Object(r.useEffect)((function(){e(h()),e(p())}),[e]),Object(M.jsxs)("div",{className:"intro-page",children:[Object(M.jsxs)("h1",{children:["welcome to",Object(M.jsx)("br",{})," the geussing game"]}),Object(M.jsx)("button",{className:"playbtn",disabled:0===t.length,onClick:function(){return e(x())},children:"start"}),n&&n.length>1&&Object(M.jsxs)("div",{children:[Object(M.jsx)("h5",{children:"Scores"}),Object(M.jsx)("div",{children:c.map((function(e){return Object(r.createElement)(I,Object(J.a)(Object(J.a)({},e),{},{key:"".concat(e.name).concat(e.score)}))}))})]})]})};var T=function(){var e=u(k);return Object(M.jsx)("div",{className:"App",children:Object(M.jsx)("header",{className:"App-container",children:Object(M.jsxs)(r.Suspense,{fallback:function(){return Object(M.jsx)("div",{children:"Loading"})},children:["intro"===e&&Object(M.jsx)(L,{}),"game"===e&&Object(M.jsx)(E,{}),"form"===e&&Object(M.jsx)(A,{})]})})})};function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout((function(){return t({data:e})}),500)}))}var W=Object(b.b)("counter/fetchCount",function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),D=Object(b.c)({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}},extraReducers:function(e){e.addCase(W.pending,(function(e){e.status="loading"})).addCase(W.fulfilled,(function(e,t){e.status="idle",e.value+=t.payload}))}}),H=D.actions,R=(H.increment,H.decrement,H.incrementByAmount,D.reducer),q=Object(b.a)({reducer:{counter:R,page:P}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(M.jsx)(c.a.StrictMode,{children:Object(M.jsx)(i.a,{store:q,children:Object(M.jsx)(T,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.1a13ed53.chunk.js.map